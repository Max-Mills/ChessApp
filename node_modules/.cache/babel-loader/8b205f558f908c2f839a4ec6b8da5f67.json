{"remainingRequest":"/Users/maxy/Documents/GitHub/chessapp/node_modules/thread-loader/dist/cjs.js!/Users/maxy/Documents/GitHub/chessapp/node_modules/babel-loader/lib/index.js!/Users/maxy/Documents/GitHub/chessapp/node_modules/eslint-loader/index.js??ref--14-0!/Users/maxy/Documents/GitHub/chessapp/src/classes/Board.js","dependencies":[{"path":"/Users/maxy/Documents/GitHub/chessapp/src/classes/Board.js","mtime":1638060681956},{"path":"/Users/maxy/Documents/GitHub/chessapp/babel.config.js","mtime":1638051868668},{"path":"/Users/maxy/Documents/GitHub/chessapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maxy/Documents/GitHub/chessapp/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maxy/Documents/GitHub/chessapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/maxy/Documents/GitHub/chessapp/node_modules/eslint-loader/index.js","mtime":1638058413576}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXh5L0RvY3VtZW50cy9HaXRIdWIvY2hlc3NhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9tYXh5L0RvY3VtZW50cy9HaXRIdWIvY2hlc3NhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvbWF4eS9Eb2N1bWVudHMvR2l0SHViL2NoZXNzYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL21heHkvRG9jdW1lbnRzL0dpdEh1Yi9jaGVzc2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IFBpZWNlIGZyb20gJy4vUGllY2UuanMnOwoKdmFyIEJvYXJkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCb2FyZCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb2FyZCk7CgogICAgc2VsZiA9IHRoaXM7CiAgICB0aGlzLnBpZWNlTG9jYXRpb24gPSBbe31dOwogICAgdGhpcy50b3RhbFRpbGVzID0gdGhpcy5idWlsZEJvYXJkKCk7CiAgICB0aGlzLnNlbGVjdGVkVGlsZSA9IDY1OwogICAgdGhpcy5jdXJyZW50VHVybiA9ICJ3IjsKICB9CgogIF9jcmVhdGVDbGFzcyhCb2FyZCwgW3sKICAgIGtleTogInNldFBpZWNlTG9jIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQaWVjZUxvYyhwbCkgewogICAgICB0aGlzLnBpZWNlTG9jYXRpb24gPSBwbDsKICAgICAgcmV0dXJuIHRoaXMsIHNlbGY7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2hhbmdlVHVybiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlVHVybigpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudFR1cm4gPT0gInciKSB7CiAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9ICJiIjsKICAgICAgICBjb25zb2xlLmxvZygidHVybiBpcyBibGFjayIpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFR1cm4gPT0gImIiKSB7CiAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9ICJ3IjsKICAgICAgICBjb25zb2xlLmxvZygidHVybiBpcyB3aGl0ZSIpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJUdXJuIGhhcyBlcnJvciIpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiYnVpbGRCb2FyZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRCb2FyZCgpIHsKICAgICAgdGhpcy50b3RhbFRpbGVzID0gX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5KDkpLmtleXMoKSk7CiAgICAgIHNlbGYudG90YWxUaWxlcy5zaGlmdCgpOwogICAgICByZXR1cm4gdGhpcy50b3RhbFRpbGVzOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEluZGV4IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmRleCh4LCB5KSB7CiAgICAgIHZhciBsb2NhdGlvbiA9ICh4IC0gMSkgKiA4ICsgeSAtIDE7CiAgICAgIHJldHVybiBsb2NhdGlvbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQaWVjZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGllY2UoeCwgeSwgcGwpIHsKICAgICAgdmFyIGxvYyA9IHNlbGYuZ2V0SW5kZXgoeCwgeSk7CgogICAgICBpZiAocGxbbG9jXSAhPSB1bmRlZmluZWQpIHsKICAgICAgICB2YXIgaW1hZ2UgPSAiaHR0cHM6Ly9jaGVzc2FwcC5zMy51cy13ZXN0LTIuYW1hem9uYXdzLmNvbS8iICsgcGxbbG9jXVsncGxheWVyJ10gKyBwbFtsb2NdWydwaWVjZSddICsgIi5wbmciOwogICAgICAgIHJldHVybiBpbWFnZTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coInBhZ2UgbG9hZGluZyIpOwogICAgfQogIH0sIHsKICAgIGtleTogInNlbGVjdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RlZCh4LCB5LCBwbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGxvYyA9IHNlbGYuZ2V0SW5kZXgoeCwgeSk7CgogICAgICBpZiAodGhpcy5zZWxlY3RlZFRpbGUgIT0gNjUgJiYgc2VsZi5pc1ZhbGlkKHRoaXMuc2VsZWN0ZWRUaWxlLCBwbCwgbG9jKSkgewogICAgICAgIHZhciBwbGFjZUhvbGRlciA9IHRoaXMuc2VsZWN0ZWRUaWxlOwoKICAgICAgICB2YXIgc2xlZXAgPSBmdW5jdGlvbiBzbGVlcChkZWxheSkgewogICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KTsKICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIHZhciB3YWl0Rm9yQW5pbWF0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5hbmltYXRlUGllY2UoX3RoaXMuc2VsZWN0ZWRUaWxlLCBsb2MpOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBzbGVlcCg3NTApOwoKICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkVGlsZSA9IHBsYWNlSG9sZGVyOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnICsgX3RoaXMuc2VsZWN0ZWRUaWxlKS5zdHlsZS50cmFuc2Zvcm0gPSBudWxsOwogICAgICAgICAgICAgICAgICAgIHBsW2xvY11bJ3BpZWNlJ10gPSBwbFtfdGhpcy5zZWxlY3RlZFRpbGVdWydwaWVjZSddOwogICAgICAgICAgICAgICAgICAgIHBsW2xvY11bJ3BsYXllciddID0gcGxbX3RoaXMuc2VsZWN0ZWRUaWxlXVsncGxheWVyJ107CiAgICAgICAgICAgICAgICAgICAgcGxbX3RoaXMuc2VsZWN0ZWRUaWxlXVsncGllY2UnXSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICBwbFtfdGhpcy5zZWxlY3RlZFRpbGVdWydwbGF5ZXInXSA9ICcnOwoKICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgIH0pKTsKCiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gd2FpdEZvckFuaW1hdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH07CiAgICAgICAgfSgpOwoKICAgICAgICB3YWl0Rm9yQW5pbWF0aW9uKCk7CiAgICAgICAgc2VsZi5jaGFuZ2VUdXJuKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAocGxbbG9jXVsncGllY2UnXSAhPSAnbm9uZScpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkVGlsZSA9IGxvYzsKICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFRpbGU7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1ZhbGlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc1ZhbGlkKHNlbGVjdCwgcGwsIGxvYykgewogICAgICBpZiAoc2VsZWN0ICE9IG51bGwgJiYgbG9jICE9IHNlbGVjdCAmJiBuZXcgUGllY2UocGxbc2VsZWN0XSwgcGxbbG9jXSkuZ2V0TW92ZW1lbnRSdWxlcygpID09IHRydWUgJiYgcGxbc2VsZWN0XVsncGxheWVyJ10gPT0gdGhpcy5jdXJyZW50VHVybikgewogICAgICAgIGlmIChwbFtzZWxlY3RdWyJwaWVjZSJdID09ICJrbmlnaHQiIHx8IHNlbGYuY2hlY2tQYXRoKHBsW3NlbGVjdF0sIHBsW2xvY10pID09IHRydWUpIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiYW5pbWF0ZVBpZWNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbmltYXRlUGllY2Uoc3QsIGxvYykgewogICAgICB2YXIgcG9zaXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGlsZScgKyBsb2MpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICB2YXIgZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnICsgc3QpOwogICAgICBmLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKCcgKyAocG9zaXRpb25bJ3knXSAtIGYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbJ3knXSArIDEpICsgJ3B4KSc7CiAgICAgIGYuc3R5bGUudHJhbnNmb3JtICs9ICd0cmFuc2xhdGVYKCcgKyAocG9zaXRpb25bJ3gnXSAtIGYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbJ3gnXSArIDIuNSkgKyAncHgpJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjaGVja1BhdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrUGF0aChvcmcsIGZpbmFsKSB7CiAgICAgIHZhciB4byA9IG9yZ1snbG9jJ11bMF07CiAgICAgIHZhciB5byA9IG9yZ1snbG9jJ11bMV07CiAgICAgIHZhciB1cCA9IHhvIC0gZmluYWxbJ2xvYyddWzBdID4gMDsKICAgICAgdmFyIHZhbGlkID0gdHJ1ZTsKICAgICAgdmFyIHJpZ2h0ID0gZmluYWxbJ2xvYyddWzFdIC0geW8gPiAwOwogICAgICB2YXIgdWRjZW50ZXIgPSB4byAtIGZpbmFsWydsb2MnXVswXSA9PSAwOwogICAgICB2YXIgbHJjZW50ZXIgPSBmaW5hbFsnbG9jJ11bMV0gLSB5byA9PSAwOwogICAgICB2YXIgZmlyc3QgPSB0cnVlOwoKICAgICAgd2hpbGUgKCh4byA9PSBmaW5hbFsnbG9jJ11bMF0gJiYgeW8gPT0gZmluYWxbJ2xvYyddWzFdKSA9PSBmYWxzZSkgewogICAgICAgIHZhciBpbmRleCA9IHNlbGYuZ2V0SW5kZXgoeG8sIHlvKTsKCiAgICAgICAgaWYgKHVwID09IHRydWUgJiYgIXVkY2VudGVyKSB7CiAgICAgICAgICB4by0tOwogICAgICAgIH0KCiAgICAgICAgaWYgKHVwID09IGZhbHNlICYmICF1ZGNlbnRlcikgewogICAgICAgICAgeG8rKzsKICAgICAgICB9CgogICAgICAgIGlmIChyaWdodCA9PSB0cnVlICYmICFscmNlbnRlcikgewogICAgICAgICAgeW8rKzsKICAgICAgICB9CgogICAgICAgIGlmIChyaWdodCA9PSBmYWxzZSAmJiAhbHJjZW50ZXIpIHsKICAgICAgICAgIHlvLS07CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5waWVjZUxvY2F0aW9uW2luZGV4XVsicGllY2UiXSAhPSAibm9uZSIgJiYgZmlyc3QgPT0gZmFsc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJwaWVjZSBpcyBpbiB0aGUgd2F5Iik7CiAgICAgICAgICByZXR1cm4gdmFsaWQgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGZpcnN0ID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWxpZDsKICAgIH0KICB9XSk7CgogIHJldHVybiBCb2FyZDsKfSgpOwoKZXhwb3J0IHsgQm9hcmQgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/Users/maxy/Documents/GitHub/chessapp/src/classes/Board.js"],"names":["Piece","Board","self","pieceLocation","totalTiles","buildBoard","selectedTile","currentTurn","pl","console","log","Array","keys","shift","x","y","location","loc","getIndex","undefined","image","isValid","placeHolder","sleep","delay","Promise","resolve","setTimeout","waitForAnimation","animatePiece","document","getElementById","style","transform","changeTurn","select","getMovementRules","checkPath","st","position","getBoundingClientRect","f","org","final","xo","yo","up","valid","right","udcenter","lrcenter","first","index"],"mappings":"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","sourcesContent":["import Piece from './Piece.js'\n\nexport default class Board {\n\tconstructor() {\n\t\tself = this\n\t\tthis.pieceLocation = [{}]\n\t\tthis.totalTiles = this.buildBoard()\n\t\tthis.selectedTile = 65\n\t\tthis.currentTurn = \"w\"\n\t}\n\n\tsetPieceLoc(pl) {\n\t\tthis.pieceLocation = pl\n\t\treturn this, self\n\t}\n\n\tchangeTurn() {\n\t\tif (this.currentTurn == \"w\") {\n\t\t\tthis.currentTurn = \"b\"\n\t\t\tconsole.log(\"turn is black\")\n\t\t\treturn this\n\t\t}\n\t\telse if (this.currentTurn == \"b\") {\n\t\t\tthis.currentTurn = \"w\"\n\t\t\tconsole.log(\"turn is white\")\n\t\t\treturn this\n\t\t}\n\t\telse {\n\t\t\tconsole.log(\"Turn has error\")\n\t\t}\n\t}\n\n\tbuildBoard() {\n\t\tthis.totalTiles = [...Array(9).keys()]\n\t\tself.totalTiles.shift()\n\t\treturn this.totalTiles\n\t}\n\n\tgetIndex(x, y) {\n\t\tvar location = (x-1)*8+y-1\n\t\treturn location\n\t}\n\n\tgetPiece(x, y, pl) {\n\t\tvar loc = self.getIndex(x,y)\n\t\tif (pl[loc] != undefined) {\n\t\tvar image=\"https://chessapp.s3.us-west-2.amazonaws.com/\" + pl[loc]['player'] + pl[loc]['piece'] + \".png\"\n\t\treturn image\n\t\t}\n\t\tconsole.log(\"page loading\")\n\t}\n\n\tselected(x, y, pl) {\n\t\tvar loc = self.getIndex(x,y)\n\t\tif (this.selectedTile != 65 && self.isValid(this.selectedTile, pl, loc)) {\n\t\t\tvar placeHolder = this.selectedTile\n\t\t\tconst sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\t\t\tconst waitForAnimation = async () => {\n\t\t\tself.animatePiece(this.selectedTile,loc)\n\t\t\tawait sleep(750)\n\t\t\tthis.selectedTile = placeHolder\n\t\t\tdocument.getElementById('img'+(this.selectedTile)).style.transform=null\n\t\t\tpl[loc]['piece']=pl[this.selectedTile]['piece']\n\t\t\tpl[loc]['player']=pl[this.selectedTile]['player']\n\t\t\tpl[this.selectedTile]['piece']='none'\n\t\t\tpl[this.selectedTile]['player']=''\n\t\t\t}\n\t\t\twaitForAnimation()\n\t\t\tself.changeTurn()\n\t\t\treturn\n\t\t}\n\t\tif (pl[loc]['piece']!='none') {\n\t\t\tthis.selectedTile = loc\n\t\t\treturn this.selectedTile\n\t\t}\n\t}\n\n\tisValid(select, pl, loc) {\n\t\tif (select != null && loc != select && new Piece(pl[select], pl[loc]).getMovementRules() == true && pl[select]['player'] == this.currentTurn) {\n\t\t\tif (pl[select][\"piece\"] == \"knight\" || self.checkPath(pl[select], pl[loc]) == true )\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tanimatePiece(st, loc) {\n\t\tvar position = document.getElementById('tile'+(loc)).getBoundingClientRect()\n\t\tvar f = document.getElementById('img'+(st))\n\t\tf.style.transform = 'translateY('+(position['y']-f.getBoundingClientRect()['y']+1)+'px)'\n\t\tf.style.transform += 'translateX('+(position['x']-f.getBoundingClientRect()['x']+2.5)+'px)'\n\t}\n\n\tcheckPath(org,final) {\n\t\tvar xo = org['loc'][0]\n\t\tvar yo = org['loc'][1]\n\t\tvar up = xo - final['loc'][0] > 0\n\t\tvar valid = true\n\t\tvar right = final['loc'][1] - yo > 0\n\t\tvar udcenter = xo - final['loc'][0] == 0\n\t\tvar lrcenter = final['loc'][1] - yo == 0\n\t\tvar first = true\n\t\t\twhile ((xo == final['loc'][0] && yo == final['loc'][1]) == false) {\n\t\t\t\tvar index=self.getIndex(xo,yo)\n\t\t\t\tif (up == true && !udcenter) {\n\t\t\t\t\txo--\n\t\t\t\t}\n\t\t\t\tif (up == false && !udcenter) {\n\t\t\t\t\txo++\n\t\t\t\t}\n\t\t\t\tif (right == true && !lrcenter) {\n\t\t\t\t\tyo++\n\t\t\t\t}\n\t\t\t\tif (right == false && !lrcenter) {\n\t\t\t\t\tyo--\n\t\t\t\t}\n\t\t\t\tif (this.pieceLocation[index][\"piece\"] != \"none\" && first == false) {\n\t\t\t\t\tconsole.log(\"piece is in the way\")\n\t\t\t\t\treturn valid = false\n\t\t\t\t}\n\t\t\t\tfirst = false\n\t\t\t}\n\t\treturn valid\n\t}\n}\n"]}]}