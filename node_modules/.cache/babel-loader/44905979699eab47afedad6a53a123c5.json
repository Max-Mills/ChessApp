{"remainingRequest":"/Users/maxy/Documents/GitHub/chessapp/node_modules/babel-loader/lib/index.js!/Users/maxy/Documents/GitHub/chessapp/node_modules/eslint-loader/index.js??ref--14-0!/Users/maxy/Documents/GitHub/chessapp/src/classes/Board.js","dependencies":[{"path":"/Users/maxy/Documents/GitHub/chessapp/src/classes/Board.js","mtime":1638058739271},{"path":"/Users/maxy/Documents/GitHub/chessapp/babel.config.js","mtime":1638051868668},{"path":"/Users/maxy/Documents/GitHub/chessapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maxy/Documents/GitHub/chessapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/maxy/Documents/GitHub/chessapp/node_modules/eslint-loader/index.js","mtime":1638058413576}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXh5L0RvY3VtZW50cy9HaXRIdWIvY2hlc3NhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9tYXh5L0RvY3VtZW50cy9HaXRIdWIvY2hlc3NhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvbWF4eS9Eb2N1bWVudHMvR2l0SHViL2NoZXNzYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL21heHkvRG9jdW1lbnRzL0dpdEh1Yi9jaGVzc2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IFBpZWNlIGZyb20gJy4vUGllY2UuanMnOwoKdmFyIEJvYXJkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBCb2FyZCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb2FyZCk7CgogICAgLy9zZWxmID0gdGhpcwogICAgdGhpcy5waWVjZUxvY2F0aW9uID0gW3t9XTsKICAgIHRoaXMudG90YWxUaWxlcyA9IHRoaXMuYnVpbGRCb2FyZCgpOwogICAgdGhpcy5zZWxlY3RlZFRpbGUgPSA2NTsKICAgIHRoaXMuY3VycmVudFR1cm4gPSAidyI7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQm9hcmQsIFt7CiAgICBrZXk6ICJzZXRQaWVjZUxvYyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UGllY2VMb2MocGwpIHsKICAgICAgdGhpcy5waWVjZUxvY2F0aW9uID0gcGw7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImNoYW5nZVR1cm4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVR1cm4oKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRUdXJuID09ICJ3IikgewogICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSAiYiI7CiAgICAgICAgY29uc29sZS5sb2coInR1cm4gaXMgYmxhY2siKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRUdXJuID09ICJiIikgewogICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSAidyI7CiAgICAgICAgY29uc29sZS5sb2coInR1cm4gaXMgd2hpdGUiKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygiVHVybiBoYXMgZXJyb3IiKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImJ1aWxkQm9hcmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkQm9hcmQoKSB7CiAgICAgIHRoaXMudG90YWxUaWxlcyA9IF90b0NvbnN1bWFibGVBcnJheShBcnJheSg5KS5rZXlzKCkpOwogICAgICB0aGlzLnRvdGFsVGlsZXMuc2hpZnQoKTsKICAgICAgcmV0dXJuIHRoaXMudG90YWxUaWxlczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRJbmRleCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5kZXgoeCwgeSkgewogICAgICB2YXIgbG9jYXRpb24gPSAoeCAtIDEpICogOCArIHkgLSAxOwogICAgICByZXR1cm4gbG9jYXRpb247CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UGllY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBpZWNlKHgsIHksIHBsKSB7CiAgICAgIHZhciBsb2MgPSBzZWxmLmdldEluZGV4KHgsIHkpOwoKICAgICAgaWYgKHBsW2xvY10gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIGltYWdlID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4Mi9hc3NldHMvIiArIHBsW2xvY11bJ3BsYXllciddICsgcGxbbG9jXVsncGllY2UnXSArICIucG5nIjsKICAgICAgICByZXR1cm4gaW1hZ2U7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCJwYWdlIGxvYWRpbmciKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZWxlY3RlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0ZWQoeCwgeSwgcGwpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBsb2MgPSBzZWxmLmdldEluZGV4KHgsIHkpOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUaWxlICE9IDY1ICYmIHNlbGYuaXNWYWxpZCh0aGlzLnNlbGVjdGVkVGlsZSwgcGwsIGxvYykpIHsKICAgICAgICB2YXIgcGxhY2VIb2xkZXIgPSB0aGlzLnNlbGVjdGVkVGlsZTsKCiAgICAgICAgdmFyIHNsZWVwID0gZnVuY3Rpb24gc2xlZXAoZGVsYXkpIHsKICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSk7CiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICB2YXIgd2FpdEZvckFuaW1hdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIHNlbGYuYW5pbWF0ZVBpZWNlKF90aGlzLnNlbGVjdGVkVGlsZSwgbG9jKTsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xlZXAoNzUwKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZFRpbGUgPSBwbGFjZUhvbGRlcjsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJyArIF90aGlzLnNlbGVjdGVkVGlsZSkuc3R5bGUudHJhbnNmb3JtID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBwbFtsb2NdWydwaWVjZSddID0gcGxbX3RoaXMuc2VsZWN0ZWRUaWxlXVsncGllY2UnXTsKICAgICAgICAgICAgICAgICAgICBwbFtsb2NdWydwbGF5ZXInXSA9IHBsW190aGlzLnNlbGVjdGVkVGlsZV1bJ3BsYXllciddOwogICAgICAgICAgICAgICAgICAgIHBsW190aGlzLnNlbGVjdGVkVGlsZV1bJ3BpZWNlJ10gPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgcGxbX3RoaXMuc2VsZWN0ZWRUaWxlXVsncGxheWVyJ10gPSAnJzsKCiAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICB9KSk7CgogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHdhaXRGb3JBbmltYXRpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9OwogICAgICAgIH0oKTsKCiAgICAgICAgd2FpdEZvckFuaW1hdGlvbigpOwogICAgICAgIHNlbGYuY2hhbmdlVHVybigpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHBsW2xvY11bJ3BpZWNlJ10gIT0gJ25vbmUnKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZFRpbGUgPSBsb2M7CiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRUaWxlOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNWYWxpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNWYWxpZChzZWxlY3QsIHBsLCBsb2MpIHsKICAgICAgaWYgKHNlbGVjdCAhPSBudWxsICYmIGxvYyAhPSBzZWxlY3QgJiYgbmV3IFBpZWNlKHBsW3NlbGVjdF0sIHBsW2xvY10pLmdldE1vdmVtZW50UnVsZXMoKSA9PSB0cnVlICYmIHBsW3NlbGVjdF1bJ3BsYXllciddID09IHRoaXMuY3VycmVudFR1cm4pIHsKICAgICAgICBpZiAocGxbc2VsZWN0XVsicGllY2UiXSA9PSAia25pZ2h0IiB8fCBzZWxmLmNoZWNrUGF0aChwbFtzZWxlY3RdLCBwbFtsb2NdKSA9PSB0cnVlKSByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImFuaW1hdGVQaWVjZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYW5pbWF0ZVBpZWNlKHN0LCBsb2MpIHsKICAgICAgdmFyIHBvc2l0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbGUnICsgbG9jKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdmFyIGYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJyArIHN0KTsKICAgICAgZi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgnICsgKHBvc2l0aW9uWyd5J10gLSBmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpWyd5J10gKyAxKSArICdweCknOwogICAgICBmLnN0eWxlLnRyYW5zZm9ybSArPSAndHJhbnNsYXRlWCgnICsgKHBvc2l0aW9uWyd4J10gLSBmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpWyd4J10gKyAyLjUpICsgJ3B4KSc7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2hlY2tQYXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja1BhdGgob3JnLCBmaW5hbCkgewogICAgICB2YXIgeG8gPSBvcmdbJ2xvYyddWzBdOwogICAgICB2YXIgeW8gPSBvcmdbJ2xvYyddWzFdOwogICAgICB2YXIgdXAgPSB4byAtIGZpbmFsWydsb2MnXVswXSA+IDA7CiAgICAgIHZhciB2YWxpZCA9IHRydWU7CiAgICAgIHZhciByaWdodCA9IGZpbmFsWydsb2MnXVsxXSAtIHlvID4gMDsKICAgICAgdmFyIHVkY2VudGVyID0geG8gLSBmaW5hbFsnbG9jJ11bMF0gPT0gMDsKICAgICAgdmFyIGxyY2VudGVyID0gZmluYWxbJ2xvYyddWzFdIC0geW8gPT0gMDsKICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTsKCiAgICAgIHdoaWxlICgoeG8gPT0gZmluYWxbJ2xvYyddWzBdICYmIHlvID09IGZpbmFsWydsb2MnXVsxXSkgPT0gZmFsc2UpIHsKICAgICAgICB2YXIgaW5kZXggPSBzZWxmLmdldEluZGV4KHhvLCB5byk7CgogICAgICAgIGlmICh1cCA9PSB0cnVlICYmICF1ZGNlbnRlcikgewogICAgICAgICAgeG8tLTsKICAgICAgICB9CgogICAgICAgIGlmICh1cCA9PSBmYWxzZSAmJiAhdWRjZW50ZXIpIHsKICAgICAgICAgIHhvKys7CiAgICAgICAgfQoKICAgICAgICBpZiAocmlnaHQgPT0gdHJ1ZSAmJiAhbHJjZW50ZXIpIHsKICAgICAgICAgIHlvKys7CiAgICAgICAgfQoKICAgICAgICBpZiAocmlnaHQgPT0gZmFsc2UgJiYgIWxyY2VudGVyKSB7CiAgICAgICAgICB5by0tOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMucGllY2VMb2NhdGlvbltpbmRleF1bInBpZWNlIl0gIT0gIm5vbmUiICYmIGZpcnN0ID09IGZhbHNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygicGllY2UgaXMgaW4gdGhlIHdheSIpOwogICAgICAgICAgcmV0dXJuIHZhbGlkID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBmaXJzdCA9IGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdmFsaWQ7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQm9hcmQ7Cn0oKTsKCmV4cG9ydCB7IEJvYXJkIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/Users/maxy/Documents/GitHub/chessapp/src/classes/Board.js"],"names":["Piece","Board","pieceLocation","totalTiles","buildBoard","selectedTile","currentTurn","pl","console","log","Array","keys","shift","x","y","location","loc","self","getIndex","undefined","image","isValid","placeHolder","sleep","delay","Promise","resolve","setTimeout","waitForAnimation","animatePiece","document","getElementById","style","transform","changeTurn","select","getMovementRules","checkPath","st","position","getBoundingClientRect","f","org","final","xo","yo","up","valid","right","udcenter","lrcenter","first","index"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,YAAlB;;IAEqBC,K;AACpB,mBAAc;AAAA;;AACb;AACA,SAAKC,aAAL,GAAqB,CAAC,EAAD,CAArB;AACA,SAAKC,UAAL,GAAkB,KAAKC,UAAL,EAAlB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKC,WAAL,GAAmB,GAAnB;AACA;;;;WAED,qBAAYC,EAAZ,EAAgB;AACf,WAAKL,aAAL,GAAqBK,EAArB;AACA,aAAO,IAAP;AACA;;;WAED,sBAAa;AACZ,UAAI,KAAKD,WAAL,IAAoB,GAAxB,EAA6B;AAC5B,aAAKA,WAAL,GAAmB,GAAnB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,eAAO,IAAP;AACA,OAJD,MAKK,IAAI,KAAKH,WAAL,IAAoB,GAAxB,EAA6B;AACjC,aAAKA,WAAL,GAAmB,GAAnB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,eAAO,IAAP;AACA,OAJI,MAKA;AACJD,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA;AACD;;;WAED,sBAAa;AACZ,WAAKN,UAAL,sBAAsBO,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,EAAtB;AACA,WAAKR,UAAL,CAAgBS,KAAhB;AACA,aAAO,KAAKT,UAAZ;AACA;;;WAED,kBAASU,CAAT,EAAYC,CAAZ,EAAe;AACd,UAAIC,QAAQ,GAAG,CAACF,CAAC,GAAC,CAAH,IAAM,CAAN,GAAQC,CAAR,GAAU,CAAzB;AACA,aAAOC,QAAP;AACA;;;WAED,kBAASF,CAAT,EAAYC,CAAZ,EAAeP,EAAf,EAAmB;AAClB,UAAIS,GAAG,GAAGC,IAAI,CAACC,QAAL,CAAcL,CAAd,EAAgBC,CAAhB,CAAV;;AACA,UAAIP,EAAE,CAACS,GAAD,CAAF,IAAWG,SAAf,EAA0B;AAC1B,YAAIC,KAAK,GAAC,kCAAkCb,EAAE,CAACS,GAAD,CAAF,CAAQ,QAAR,CAAlC,GAAsDT,EAAE,CAACS,GAAD,CAAF,CAAQ,OAAR,CAAtD,GAAyE,MAAnF;AACA,eAAOI,KAAP;AACC;;AACDZ,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA;;;WAED,kBAASI,CAAT,EAAYC,CAAZ,EAAeP,EAAf,EAAmB;AAAA;;AAClB,UAAIS,GAAG,GAAGC,IAAI,CAACC,QAAL,CAAcL,CAAd,EAAgBC,CAAhB,CAAV;;AACA,UAAI,KAAKT,YAAL,IAAqB,EAArB,IAA2BY,IAAI,CAACI,OAAL,CAAa,KAAKhB,YAAlB,EAAgCE,EAAhC,EAAoCS,GAApC,CAA/B,EAAyE;AACxE,YAAIM,WAAW,GAAG,KAAKjB,YAAvB;;AACA,YAAMkB,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD;AAAA,iBAAW,IAAIC,OAAJ,CAAY,UAACC,OAAD;AAAA,mBAAaC,UAAU,CAACD,OAAD,EAAUF,KAAV,CAAvB;AAAA,WAAZ,CAAX;AAAA,SAAd;;AACA,YAAMI,gBAAgB;AAAA,6EAAG;AAAA;AAAA;AAAA;AAAA;AACzBX,oBAAAA,IAAI,CAACY,YAAL,CAAkB,KAAI,CAACxB,YAAvB,EAAoCW,GAApC;AADyB;AAAA,2BAEnBO,KAAK,CAAC,GAAD,CAFc;;AAAA;AAGzB,oBAAA,KAAI,CAAClB,YAAL,GAAoBiB,WAApB;AACAQ,oBAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAO,KAAI,CAAC1B,YAApC,EAAmD2B,KAAnD,CAAyDC,SAAzD,GAAmE,IAAnE;AACA1B,oBAAAA,EAAE,CAACS,GAAD,CAAF,CAAQ,OAAR,IAAiBT,EAAE,CAAC,KAAI,CAACF,YAAN,CAAF,CAAsB,OAAtB,CAAjB;AACAE,oBAAAA,EAAE,CAACS,GAAD,CAAF,CAAQ,QAAR,IAAkBT,EAAE,CAAC,KAAI,CAACF,YAAN,CAAF,CAAsB,QAAtB,CAAlB;AACAE,oBAAAA,EAAE,CAAC,KAAI,CAACF,YAAN,CAAF,CAAsB,OAAtB,IAA+B,MAA/B;AACAE,oBAAAA,EAAE,CAAC,KAAI,CAACF,YAAN,CAAF,CAAsB,QAAtB,IAAgC,EAAhC;;AARyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAH;;AAAA,0BAAhBuB,gBAAgB;AAAA;AAAA;AAAA,WAAtB;;AAUAA,QAAAA,gBAAgB;AAChBX,QAAAA,IAAI,CAACiB,UAAL;AACA;AACA;;AACD,UAAI3B,EAAE,CAACS,GAAD,CAAF,CAAQ,OAAR,KAAkB,MAAtB,EAA8B;AAC7B,aAAKX,YAAL,GAAoBW,GAApB;AACA,eAAO,KAAKX,YAAZ;AACA;AACD;;;WAED,iBAAQ8B,MAAR,EAAgB5B,EAAhB,EAAoBS,GAApB,EAAyB;AACxB,UAAImB,MAAM,IAAI,IAAV,IAAkBnB,GAAG,IAAImB,MAAzB,IAAmC,IAAInC,KAAJ,CAAUO,EAAE,CAAC4B,MAAD,CAAZ,EAAsB5B,EAAE,CAACS,GAAD,CAAxB,EAA+BoB,gBAA/B,MAAqD,IAAxF,IAAgG7B,EAAE,CAAC4B,MAAD,CAAF,CAAW,QAAX,KAAwB,KAAK7B,WAAjI,EAA8I;AAC7I,YAAIC,EAAE,CAAC4B,MAAD,CAAF,CAAW,OAAX,KAAuB,QAAvB,IAAmClB,IAAI,CAACoB,SAAL,CAAe9B,EAAE,CAAC4B,MAAD,CAAjB,EAA2B5B,EAAE,CAACS,GAAD,CAA7B,KAAuC,IAA9E,EACA,OAAO,IAAP;AACA;;AACD,aAAO,KAAP;AACA;;;WAED,sBAAasB,EAAb,EAAiBtB,GAAjB,EAAsB;AACrB,UAAIuB,QAAQ,GAAGT,QAAQ,CAACC,cAAT,CAAwB,SAAQf,GAAhC,EAAsCwB,qBAAtC,EAAf;AACA,UAAIC,CAAC,GAAGX,QAAQ,CAACC,cAAT,CAAwB,QAAOO,EAA/B,CAAR;AACAG,MAAAA,CAAC,CAACT,KAAF,CAAQC,SAAR,GAAoB,iBAAeM,QAAQ,CAAC,GAAD,CAAR,GAAcE,CAAC,CAACD,qBAAF,GAA0B,GAA1B,CAAd,GAA6C,CAA5D,IAA+D,KAAnF;AACAC,MAAAA,CAAC,CAACT,KAAF,CAAQC,SAAR,IAAqB,iBAAeM,QAAQ,CAAC,GAAD,CAAR,GAAcE,CAAC,CAACD,qBAAF,GAA0B,GAA1B,CAAd,GAA6C,GAA5D,IAAiE,KAAtF;AACA;;;WAED,mBAAUE,GAAV,EAAcC,KAAd,EAAqB;AACpB,UAAIC,EAAE,GAAGF,GAAG,CAAC,KAAD,CAAH,CAAW,CAAX,CAAT;AACA,UAAIG,EAAE,GAAGH,GAAG,CAAC,KAAD,CAAH,CAAW,CAAX,CAAT;AACA,UAAII,EAAE,GAAGF,EAAE,GAAGD,KAAK,CAAC,KAAD,CAAL,CAAa,CAAb,CAAL,GAAuB,CAAhC;AACA,UAAII,KAAK,GAAG,IAAZ;AACA,UAAIC,KAAK,GAAGL,KAAK,CAAC,KAAD,CAAL,CAAa,CAAb,IAAkBE,EAAlB,GAAuB,CAAnC;AACA,UAAII,QAAQ,GAAGL,EAAE,GAAGD,KAAK,CAAC,KAAD,CAAL,CAAa,CAAb,CAAL,IAAwB,CAAvC;AACA,UAAIO,QAAQ,GAAGP,KAAK,CAAC,KAAD,CAAL,CAAa,CAAb,IAAkBE,EAAlB,IAAwB,CAAvC;AACA,UAAIM,KAAK,GAAG,IAAZ;;AACC,aAAO,CAACP,EAAE,IAAID,KAAK,CAAC,KAAD,CAAL,CAAa,CAAb,CAAN,IAAyBE,EAAE,IAAIF,KAAK,CAAC,KAAD,CAAL,CAAa,CAAb,CAAhC,KAAoD,KAA3D,EAAkE;AACjE,YAAIS,KAAK,GAACnC,IAAI,CAACC,QAAL,CAAc0B,EAAd,EAAiBC,EAAjB,CAAV;;AACA,YAAIC,EAAE,IAAI,IAAN,IAAc,CAACG,QAAnB,EAA6B;AAC5BL,UAAAA,EAAE;AACF;;AACD,YAAIE,EAAE,IAAI,KAAN,IAAe,CAACG,QAApB,EAA8B;AAC7BL,UAAAA,EAAE;AACF;;AACD,YAAII,KAAK,IAAI,IAAT,IAAiB,CAACE,QAAtB,EAAgC;AAC/BL,UAAAA,EAAE;AACF;;AACD,YAAIG,KAAK,IAAI,KAAT,IAAkB,CAACE,QAAvB,EAAiC;AAChCL,UAAAA,EAAE;AACF;;AACD,YAAI,KAAK3C,aAAL,CAAmBkD,KAAnB,EAA0B,OAA1B,KAAsC,MAAtC,IAAgDD,KAAK,IAAI,KAA7D,EAAoE;AACnE3C,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,iBAAOsC,KAAK,GAAG,KAAf;AACA;;AACDI,QAAAA,KAAK,GAAG,KAAR;AACA;;AACF,aAAOJ,KAAP;AACA;;;;;;SAxHmB9C,K","sourcesContent":["import Piece from './Piece.js'\n\nexport default class Board {\n\tconstructor() {\n\t\t//self = this\n\t\tthis.pieceLocation = [{}]\n\t\tthis.totalTiles = this.buildBoard()\n\t\tthis.selectedTile = 65\n\t\tthis.currentTurn = \"w\"\n\t}\n\n\tsetPieceLoc(pl) {\n\t\tthis.pieceLocation = pl\n\t\treturn this\n\t}\n\n\tchangeTurn() {\n\t\tif (this.currentTurn == \"w\") {\n\t\t\tthis.currentTurn = \"b\"\n\t\t\tconsole.log(\"turn is black\")\n\t\t\treturn this\n\t\t}\n\t\telse if (this.currentTurn == \"b\") {\n\t\t\tthis.currentTurn = \"w\"\n\t\t\tconsole.log(\"turn is white\")\n\t\t\treturn this\n\t\t}\n\t\telse {\n\t\t\tconsole.log(\"Turn has error\")\n\t\t}\n\t}\n\n\tbuildBoard() {\n\t\tthis.totalTiles = [...Array(9).keys()]\n\t\tthis.totalTiles.shift()\n\t\treturn this.totalTiles\n\t}\n\n\tgetIndex(x, y) {\n\t\tvar location = (x-1)*8+y-1\n\t\treturn location\n\t}\n\n\tgetPiece(x, y, pl) {\n\t\tvar loc = self.getIndex(x,y)\n\t\tif (pl[loc] != undefined) {\n\t\tvar image=\"http://localhost:8082/assets/\" + pl[loc]['player'] + pl[loc]['piece'] + \".png\"\n\t\treturn image\n\t\t}\n\t\tconsole.log(\"page loading\")\n\t}\n\n\tselected(x, y, pl) {\n\t\tvar loc = self.getIndex(x,y)\n\t\tif (this.selectedTile != 65 && self.isValid(this.selectedTile, pl, loc)) {\n\t\t\tvar placeHolder = this.selectedTile\n\t\t\tconst sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\t\t\tconst waitForAnimation = async () => {\n\t\t\tself.animatePiece(this.selectedTile,loc)\n\t\t\tawait sleep(750)\n\t\t\tthis.selectedTile = placeHolder\n\t\t\tdocument.getElementById('img'+(this.selectedTile)).style.transform=null\n\t\t\tpl[loc]['piece']=pl[this.selectedTile]['piece']\n\t\t\tpl[loc]['player']=pl[this.selectedTile]['player']\n\t\t\tpl[this.selectedTile]['piece']='none'\n\t\t\tpl[this.selectedTile]['player']=''\n\t\t\t}\n\t\t\twaitForAnimation()\n\t\t\tself.changeTurn()\n\t\t\treturn\n\t\t}\n\t\tif (pl[loc]['piece']!='none') {\n\t\t\tthis.selectedTile = loc\n\t\t\treturn this.selectedTile\n\t\t}\n\t}\n\n\tisValid(select, pl, loc) {\n\t\tif (select != null && loc != select && new Piece(pl[select], pl[loc]).getMovementRules() == true && pl[select]['player'] == this.currentTurn) {\n\t\t\tif (pl[select][\"piece\"] == \"knight\" || self.checkPath(pl[select], pl[loc]) == true )\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tanimatePiece(st, loc) {\n\t\tvar position = document.getElementById('tile'+(loc)).getBoundingClientRect()\n\t\tvar f = document.getElementById('img'+(st))\n\t\tf.style.transform = 'translateY('+(position['y']-f.getBoundingClientRect()['y']+1)+'px)'\n\t\tf.style.transform += 'translateX('+(position['x']-f.getBoundingClientRect()['x']+2.5)+'px)'\n\t}\n\n\tcheckPath(org,final) {\n\t\tvar xo = org['loc'][0]\n\t\tvar yo = org['loc'][1]\n\t\tvar up = xo - final['loc'][0] > 0\n\t\tvar valid = true\n\t\tvar right = final['loc'][1] - yo > 0\n\t\tvar udcenter = xo - final['loc'][0] == 0\n\t\tvar lrcenter = final['loc'][1] - yo == 0\n\t\tvar first = true\n\t\t\twhile ((xo == final['loc'][0] && yo == final['loc'][1]) == false) {\n\t\t\t\tvar index=self.getIndex(xo,yo)\n\t\t\t\tif (up == true && !udcenter) {\n\t\t\t\t\txo--\n\t\t\t\t}\n\t\t\t\tif (up == false && !udcenter) {\n\t\t\t\t\txo++\n\t\t\t\t}\n\t\t\t\tif (right == true && !lrcenter) {\n\t\t\t\t\tyo++\n\t\t\t\t}\n\t\t\t\tif (right == false && !lrcenter) {\n\t\t\t\t\tyo--\n\t\t\t\t}\n\t\t\t\tif (this.pieceLocation[index][\"piece\"] != \"none\" && first == false) {\n\t\t\t\t\tconsole.log(\"piece is in the way\")\n\t\t\t\t\treturn valid = false\n\t\t\t\t}\n\t\t\t\tfirst = false\n\t\t\t}\n\t\treturn valid\n\t}\n}\n"]}]}