import{r as k,u as A,o as a,c,a as _,b as l,t as w,d as m,e as d,w as g,f as L,g as x,h,i as C,j as P,k as E}from"./vendor.0b7e7022.js";const O=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}};O();const u=k({user:null,loading:!1,isAuthenticated:!1,auth0:null}),y={domain:"dev-s9lusa35.us.auth0.com",client_id:"aJZSL2BB5IWu4EEDjeJYM80azlRQPicA"},f=s=>{const i=async()=>{s.isAuthenticated=!!await s.auth0.isAuthenticated(),s.user=await s.auth0.getUser(),s.loading=!1};return{login:async()=>{await s.auth0.loginWithPopup(),await i()},logout:async()=>{s.auth0.logout({returnTo:window.location.origin})},initAuth:()=>{s.loading=!0,A({domain:y.domain,client_id:y.client_id,cacheLocation:"localstorage",redirect_uri:window.location.origin}).then(async t=>{s.auth0=t,await i()})}}};const H={style:{position:"absolute",top:"20px",right:"20px"}},N={key:0},S={key:0},V={key:1},j=["src"],B={key:1},R={setup(s){const{login:i,logout:r,initAuth:o}=f(u);return o(),(e,t)=>(a(),c("div",H,[_(u).loading?(a(),c("div",B," Loading ... ")):(a(),c("div",N,[_(u).isAuthenticated?(a(),c("div",V,[l("div",null,[l("img",{style:{"border-radius":"80px",border:"5px solid black",width:"80px",height:"80px"},src:_(u).user.picture},null,8,j)]),l("div",null,[l("strong",null,w(_(u).user.nickname),1)]),l("div",null,[l("button",{onClick:t[1]||(t[1]=n=>_(r)()),class:"btn btn-secondary"},"Logout")])])):(a(),c("div",S,[l("button",{onClick:t[0]||(t[0]=n=>_(i)()),class:"btn btn-primary"},"Login")]))]))]))}};const D={id:"app"},I={id:"nav"},T=h("Home"),W=h(" | "),G=h("Chess Games"),q=h(" | "),z=h("About"),J={setup(s){const{login:i,logout:r,initAuth:o}=f(u);return o(),(e,t)=>{const n=m("router-link"),p=m("router-view");return a(),c("div",D,[d(R),l("div",I,[d(n,{to:"/"},{default:g(()=>[T]),_:1}),W,!_(u).loading&&_(u).isAuthenticated?(a(),L(n,{key:0,to:"/chess"},{default:g(()=>[G]),_:1})):x("",!0),q,d(n,{to:"/about"},{default:g(()=>[z]),_:1})]),d(p)])}}},Y="modulepreload",$={},F="/",v=function(i,r){return!r||r.length===0?i():Promise.all(r.map(o=>{if(o=`${F}${o}`,o in $)return;$[o]=!0;const e=o.endsWith(".css"),t=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${t}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":Y,e||(n.as="script",n.crossOrigin=""),n.href=o,document.head.appendChild(n),e)return new Promise((p,b)=>{n.addEventListener("load",p),n.addEventListener("error",b)})})).then(()=>i())};const K={key:0},M={key:0},Q=l("p",null," You must login to start playing ",-1),U=[Q],Z={key:1},X=l("p",null," Welcome to Chess Online, to start navigate to Chess Games ",-1),ee=[X],te={key:1},oe={setup(s){const{login:i,logout:r,initAuth:o}=f(u);return o(),(e,t)=>(a(),c("div",null,[_(u).loading?(a(),c("div",te," Loading ... ")):(a(),c("div",K,[_(u).isAuthenticated?(a(),c("div",Z,ee)):(a(),c("div",M,U))]))]))}};var ne=(s,i)=>{const r=s.__vccOpts||s;for(const[o,e]of i)r[o]=e;return r};const se={name:"Home",components:{HomePage:oe}},ie={class:"home"},re=l("img",{class:"logo",alt:"Chess Online Logo",src:"https://chessapp.s3.us-west-2.amazonaws.com/wpawn.png"},null,-1);function ae(s,i,r,o,e,t){const n=m("HomePage");return a(),c("div",ie,[re,d(n)])}var ce=ne(se,[["render",ae]]);const le=[{path:"/",name:"Home",component:ce},{path:"/chess",name:"Chess Game",component:()=>v(()=>import("./Chess.bc8e6a95.js"),["assets/Chess.bc8e6a95.js","assets/Chess.24e4d4b9.css","assets/vendor.0b7e7022.js"])},{path:"/about",name:"About",component:()=>v(()=>import("./About.06fae593.js"),["assets/About.06fae593.js","assets/vendor.0b7e7022.js"])},{path:"/callback",name:"Callback",component:()=>v(()=>import("./Callback.11cd3f3b.js"),["assets/Callback.11cd3f3b.js","assets/vendor.0b7e7022.js"])}],ue=C({history:P("/"),routes:le});E(J).use(ue).mount("#app");export{ne as _};
